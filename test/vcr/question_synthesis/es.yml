---
http_interactions:
- request:
    method: post
    uri: https://api.openai.com/v1/chat/completions
    body:
      encoding: UTF-8
      string: '{"model":"gpt-4o-mini","messages":[{"role":"system","content":"Eres
        un asistente especializado en simular el comportamiento de usuarios de ChatGPT
        que investigan las mejores marcas, productos o servicios. Tu tarea es generar
        variaciones en lenguaje natural de una consulta que busca entender los mejores
        productos dentro de una categoría.\nEntradas:\n•\tquery: El principal producto,
        marca o servicio que el usuario está investigando.\n•\tcohort: (Opcional)
        Una descripción de la persona que realiza la consulta, incluyendo detalles
        demográficos, preferencias o necesidades específicas. Usa esta información
        para adaptar el tono, enfoque y preocupaciones específicas de las preguntas.\n•\tregion:
        (Opcional) Un país o región mundial específica para restringir el alcance
        de productos, servicios o marcas. Úsalo para generar consultas que se alineen
        con la disponibilidad específica de la región, marcas populares o consideraciones
        locales.\nInstrucciones:\n1.\tGenera preguntas claras y directas cuyas respuestas
        apunten a marcas, modelos o servicios específicos relevantes para la consulta
        dada.\n2.\tSi se proporciona el cohort, refleja los intereses, necesidades
        o prioridades del usuario en las preguntas. Por ejemplo:\n•\tUn usuario consciente
        del presupuesto se centraría en opciones asequibles.\n•\tUn usuario consciente
        del medio ambiente consideraría aspectos de sostenibilidad.\n3.\tSi se proporciona
        la región, adapta las preguntas para centrarte en marcas, modelos o servicios
        populares o disponibles en esa región, incluyendo preferencias locales o consideraciones
        de precios.\n4.\tSi falta información de cohort o región:\n•\tNo hagas suposiciones
        sobre la demografía, preferencias o ubicación del usuario.\n•\tGenera preguntas
        neutrales y generales que no sean específicas de ningún cohort o región.\n5.\tMantén
        las preguntas específicas a la categoría de consulta dada, evitando temas
        tangenciales. Por ejemplo:\n•\tSi la consulta es sobre seguros de hogar, no
        generes preguntas sobre seguros de salud.\n•\tSi la consulta es sobre suplementos
        dietéticos, no te limites a subcategorías específicas a menos que se solicite
        explícitamente.\n6.\tMantén la diversidad en la formulación de preguntas mientras
        te mantienes fiel al contexto proporcionado por las entradas.\nEjemplos de
        Salidas:\nDados los inputs:\n•\tquery: \"mejores cafeteras para casa\"\n•\tcohort:
        No proporcionado\n•\tregion: No proporcionado\nGenera preguntas como:\n•\t\"¿Cuáles
        son las cafeteras para casa mejor valoradas en el mercado?\"\n•\t\"¿Qué cafeteras
        se consideran las más fiables para uso doméstico?\"\n•\t\"¿Qué factores debo
        considerar al elegir una cafetera para casa?\"\n•\t\"¿Cuáles son las mejores
        marcas de cafeteras para casa disponibles ahora mismo?\"\nSi los inputs son:\n•\tquery:
        \"mejores cafeteras para casa\"\n•\tcohort: \"Un estudiante consciente del
        presupuesto que vive en un apartamento pequeño\"\n•\tregion: \"Europa\"\nGenera
        preguntas como:\n•\t\"¿Cuáles son las cafeteras para casa más asequibles disponibles
        en Europa?\"\n•\t\"¿Qué marcas de cafeteras son mejores para espacios pequeños
        y presupuestos de estudiantes?\"\n•\t\"¿Hay cafeteras económicas que sean
        populares en los mercados europeos?\"\n•\t\"¿Cuáles son las cafeteras compactas
        mejor valoradas para apartamentos pequeños en Europa?\"\nTu objetivo es generar
        preguntas que reflejen la intención y el contexto del usuario, llevando a
        recomendaciones específicas de productos o marcas basadas en los inputs proporcionados.`\n"},{"role":"user","content":"Genera
        5 preguntas sobre \"Safe cars\"\nContexto regional: Las preguntas deben estar
        adaptadas para any, considerando la existencia de productos, marcas y servicios
        en esta región\nContexto del usuario: Las preguntas deben ser relevantes para
        Women 45+.\nSigue estas pautas:\n- Mantén las preguntas enfocadas específicamente
        en Safe cars\n- Adapta las preguntas al contexto regional proporcionado\n-
        Varía la formulación manteniendo la relevancia\n- Enfócate en recopilar información
        que ayude a recomendar productos/marcas específicos\n\nPreguntas:"}],"temperature":0.0,"response_format":{"type":"json_schema","json_schema":{"name":"schema","description":"Schema
        for the structured response","schema":{"type":"object","properties":{"questions":{"type":"array","items":{"$ref":"#/$defs/question"},"description":"A
        collection of questions"}},"required":["questions"],"additionalProperties":false,"strict":true,"$defs":{"question":{"type":"object","properties":{"question":{"type":"string"}},"required":["question"],"additionalProperties":false,"strict":true}}}}}}'
    headers:
      Content-Type:
      - application/json
      Authorization:
      - Bearer <API_KEY>
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      User-Agent:
      - Ruby
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Tue, 26 Nov 2024 09:26:45 GMT
      Content-Type:
      - application/json
      Transfer-Encoding:
      - chunked
      Connection:
      - keep-alive
      Access-Control-Expose-Headers:
      - X-Request-ID
      Openai-Organization:
      - user-qnoh4d6vex03uarljj9vor3n
      Openai-Processing-Ms:
      - '925'
      Openai-Version:
      - '2020-10-01'
      X-Ratelimit-Limit-Requests:
      - '5000'
      X-Ratelimit-Limit-Tokens:
      - '4000000'
      X-Ratelimit-Remaining-Requests:
      - '4999'
      X-Ratelimit-Remaining-Tokens:
      - '3998981'
      X-Ratelimit-Reset-Requests:
      - 12ms
      X-Ratelimit-Reset-Tokens:
      - 15ms
      X-Request-Id:
      - req_1022ca47f602d39fc149b9fd94057aa5
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains; preload
      Cf-Cache-Status:
      - DYNAMIC
      Set-Cookie:
      - __cf_bm=8gB8667ODWI7EOqGp2Ia7xoevxBBZU08h9UO.9QsNRk-1732613205-1.0.1.1-48fUy5tAjxFwBgUfHbQn4tE1_5z1tSV6e66OkEVR_Cllq.SygBHsiyowJuARms.Eqt15kWVV1cNNhnEW_eDomw;
        path=/; expires=Tue, 26-Nov-24 09:56:45 GMT; domain=.api.openai.com; HttpOnly;
        Secure; SameSite=None
      - _cfuvid=arkAhmnYfqaI6QOt0NxBU0yuC_7MEVmkoBvtnjhTd38-1732613205047-0.0.1.1-604800000;
        path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None
      X-Content-Type-Options:
      - nosniff
      Server:
      - cloudflare
      Cf-Ray:
      - 8e88d6a36dfb2165-MAD
      Alt-Svc:
      - h3=":443"; ma=86400
    body:
      encoding: ASCII-8BIT
      string: !binary |-
        ewogICJpZCI6ICJjaGF0Y21wbC1BWG04QzExQ3AyanBhS3JzQzMyWTZidDB3M21xUyIsCiAgIm9iamVjdCI6ICJjaGF0LmNvbXBsZXRpb24iLAogICJjcmVhdGVkIjogMTczMjYxMzIwNCwKICAibW9kZWwiOiAiZ3B0LTRvLW1pbmktMjAyNC0wNy0xOCIsCiAgImNob2ljZXMiOiBbCiAgICB7CiAgICAgICJpbmRleCI6IDAsCiAgICAgICJtZXNzYWdlIjogewogICAgICAgICJyb2xlIjogImFzc2lzdGFudCIsCiAgICAgICAgImNvbnRlbnQiOiAie1wicXVlc3Rpb25zXCI6W3tcInF1ZXN0aW9uXCI6XCLCv0N1w6FsZXMgc29uIGxvcyBjb2NoZXMgbcOhcyBzZWd1cm9zIHJlY29tZW5kYWRvcyBwYXJhIG11amVyZXMgbWF5b3JlcyBkZSA0NSBhw7Fvcz9cIn0se1wicXVlc3Rpb25cIjpcIsK/UXXDqSBtYXJjYXMgZGUgYXV0b23Ds3ZpbGVzIG9mcmVjZW4gbG9zIG1lam9yZXMgc2lzdGVtYXMgZGUgc2VndXJpZGFkIHBhcmEgY29uZHVjdG9yZXMgZGUgbcOhcyBkZSA0NSBhw7Fvcz9cIn0se1wicXVlc3Rpb25cIjpcIsK/UXXDqSBjYXJhY3RlcsOtc3RpY2FzIGRlIHNlZ3VyaWRhZCBkZWJvIGJ1c2NhciBhbCBlbGVnaXIgdW4gY29jaGUgc2VndXJvIHBhcmEgbXVqZXJlcyBkZSBtaSBlZGFkP1wifSx7XCJxdWVzdGlvblwiOlwiwr9DdcOhbGVzIHNvbiBsb3MgbW9kZWxvcyBkZSBjb2NoZXMgY29uIGxhcyBtZWpvcmVzIGNhbGlmaWNhY2lvbmVzIGRlIHNlZ3VyaWRhZCBlbiBlbCBtZXJjYWRvIGFjdHVhbD9cIn0se1wicXVlc3Rpb25cIjpcIsK/UXXDqSBvcGluYW4gbGFzIG11amVyZXMgZGUgNDUgYcOxb3MgbyBtw6FzIHNvYnJlIGxhIHNlZ3VyaWRhZCBkZSBsb3MgY29jaGVzIGRlIGRpZmVyZW50ZXMgbWFyY2FzP1wifV19IiwKICAgICAgICAicmVmdXNhbCI6IG51bGwKICAgICAgfSwKICAgICAgImxvZ3Byb2JzIjogbnVsbCwKICAgICAgImZpbmlzaF9yZWFzb24iOiAic3RvcCIKICAgIH0KICBdLAogICJ1c2FnZSI6IHsKICAgICJwcm9tcHRfdG9rZW5zIjogOTE3LAogICAgImNvbXBsZXRpb25fdG9rZW5zIjogMTIwLAogICAgInRvdGFsX3Rva2VucyI6IDEwMzcsCiAgICAicHJvbXB0X3Rva2Vuc19kZXRhaWxzIjogewogICAgICAiY2FjaGVkX3Rva2VucyI6IDAsCiAgICAgICJhdWRpb190b2tlbnMiOiAwCiAgICB9LAogICAgImNvbXBsZXRpb25fdG9rZW5zX2RldGFpbHMiOiB7CiAgICAgICJyZWFzb25pbmdfdG9rZW5zIjogMCwKICAgICAgImF1ZGlvX3Rva2VucyI6IDAsCiAgICAgICJhY2NlcHRlZF9wcmVkaWN0aW9uX3Rva2VucyI6IDAsCiAgICAgICJyZWplY3RlZF9wcmVkaWN0aW9uX3Rva2VucyI6IDAKICAgIH0KICB9LAogICJzeXN0ZW1fZmluZ2VycHJpbnQiOiAiZnBfMDcwNWJmODdjMCIKfQo=
  recorded_at: Tue, 26 Nov 2024 09:26:44 GMT
recorded_with: VCR 6.3.1
