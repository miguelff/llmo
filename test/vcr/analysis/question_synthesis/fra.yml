---
http_interactions:
- request:
    method: post
    uri: https://api.openai.com/v1/chat/completions
    body:
      encoding: UTF-8
      string: '{"model":"gpt-4o-mini","messages":[{"role":"system","content":"Vous
        êtes un assistant spécialisé dans la simulation du comportement des utilisateurs
        de ChatGPT recherchant les meilleures marques, produits ou services. Votre
        tâche est de générer des variations en langage naturel d''une requête qui
        cherche à comprendre les meilleurs produits dans une catégorie.\nEntrées :\n•\tquery:
        Le produit principal, la marque ou le service que l''utilisateur recherche.\n•\tcohort:
        (Optionnel) Une description de la personne faisant la requête, y compris des
        détails démographiques, des préférences ou des besoins spécifiques. Utilisez
        ces informations pour adapter le ton, l''accent et les préoccupations spécifiques
        des questions.\n•\tregion: (Optionnel) Un pays ou une région du monde spécifique
        pour restreindre la portée des produits, services ou marques. Utilisez cela
        pour générer des requêtes qui correspondent à la disponibilité régionale,
        aux marques populaires ou aux considérations locales.\nInstructions :\n1.\tGénérez
        des questions claires et directes dont les réponses pointent vers des marques,
        modèles ou services spécifiques pertinents pour la requête donnée.\n2.\tSi
        le cohort est fourni, reflétez les intérêts, besoins ou priorités de l''utilisateur
        dans les questions. Par exemple :\n•\tUn utilisateur soucieux de son budget
        se concentrerait sur des options abordables.\n•\tUn utilisateur soucieux de
        l''environnement prendrait en compte les aspects de durabilité.\n3.\tSi la
        region est fournie, adaptez les questions pour vous concentrer sur les marques,
        modèles ou services populaires ou disponibles dans cette région.\n4.\tSi les
        informations sur le cohort ou la region manquent :\n•\tNe faites pas d''hypothèses
        sur la démographie, les préférences ou la localisation de l''utilisateur.\n•\tGénérez
        des questions neutres et générales qui ne sont pas spécifiques à un cohort
        ou une region.\n5.\tMaintenez les questions spécifiques à la catégorie de
        requête donnée, en évitant les sujets tangents. Par exemple :\n•\tSi la requête
        concerne les assurances habitation, ne générez pas de questions sur les assurances
        santé.\n•\tSi la requête concerne les compléments alimentaires, ne vous limitez
        pas à des sous-catégories spécifiques sauf si cela est explicitement demandé.\n6.\tMaintenez
        la diversité dans la formulation des questions tout en restant fidèle au contexte
        fourni.\nExemples de sorties :\nDonnées d''entrée :\n•\tquery: \"meilleures
        machines à café pour la maison\"\n•\tcohort: Non fourni\n•\tregion: Non fourni\nGénérez
        des questions comme :\n•\t\"Quelles sont les machines à café pour la maison
        les mieux notées sur le marché ?\"\n•\t\"Quelles machines à café sont considérées
        comme les plus fiables pour un usage domestique ?\"\n•\t\"Quels facteurs dois-je
        prendre en compte lors du choix d''une machine à café pour la maison ?\"\n•\t\"Quelles
        sont les meilleures marques de machines à café pour la maison disponibles
        actuellement ?\"\nSi les données d''entrée sont :\n•\tquery: \"meilleures
        machines à café pour la maison\"\n•\tcohort: \"Un étudiant soucieux de son
        budget vivant dans un petit appartement\"\n•\tregion: \"Europe\"\nGénérez
        des questions comme :\n•\t\"Quelles sont les machines à café pour la maison
        les plus abordables disponibles en Europe ?\"\n•\t\"Quelles marques de machines
        à café sont les meilleures pour les petits espaces et les budgets étudiants
        ?\"\n•\t\"Y a-t-il des machines à café économiques populaires sur les marchés
        européens ?\"\n•\t\"Quelles sont les machines à café compactes les mieux notées
        pour les petits appartements en Europe ?\"\nVotre objectif est de générer
        des questions qui reflètent l''intention et le contexte de l''utilisateur,
        conduisant à des recommandations de produits ou de marques spécifiques basées
        sur les données d''entrée fournies.\n"},{"role":"user","content":"Générez
        5 questions sur \"Safe cars\"\nContexte régional : Les questions doivent être
        adaptées pour any, en considérant l''existence de produits, marques et services
        dans cette région\nContexte de l''utilisateur : Les questions doivent être
        pertinentes pour Women 45+.\nSuivez ces directives :\n- Gardez les questions
        spécifiquement centrées sur Safe cars\n- Adaptez les questions au contexte
        régional fourni\n- Variez la formulation tout en maintenant la pertinence\n-
        Concentrez-vous sur la collecte d''informations qui aideront à recommander
        des produits/marques spécifiques\n\nQuestions :"}],"temperature":0.0,"response_format":{"type":"json_schema","json_schema":{"name":"schema","description":"Schema
        for the structured response","schema":{"type":"object","properties":{"questions":{"type":"array","items":{"$ref":"#/$defs/question"},"description":"A
        collection of questions"}},"required":["questions"],"additionalProperties":false,"strict":true,"$defs":{"question":{"type":"object","properties":{"question":{"type":"string"}},"required":["question"],"additionalProperties":false,"strict":true}}}}}}'
    headers:
      Content-Type:
      - application/json
      Authorization:
      - Bearer <API_KEY>
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      User-Agent:
      - Ruby
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Thu, 28 Nov 2024 12:36:08 GMT
      Content-Type:
      - application/json
      Transfer-Encoding:
      - chunked
      Connection:
      - keep-alive
      Access-Control-Expose-Headers:
      - X-Request-ID
      Openai-Organization:
      - user-qnoh4d6vex03uarljj9vor3n
      Openai-Processing-Ms:
      - '1010'
      Openai-Version:
      - '2020-10-01'
      X-Ratelimit-Limit-Requests:
      - '5000'
      X-Ratelimit-Limit-Tokens:
      - '4000000'
      X-Ratelimit-Remaining-Requests:
      - '4999'
      X-Ratelimit-Remaining-Tokens:
      - '3998879'
      X-Ratelimit-Reset-Requests:
      - 12ms
      X-Ratelimit-Reset-Tokens:
      - 16ms
      X-Request-Id:
      - req_e70ef0219cd2a4a5a44b66ed512e4150
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains; preload
      Cf-Cache-Status:
      - DYNAMIC
      Set-Cookie:
      - __cf_bm=Vza3HQVhLMsjllmbXeXD6Kia3bJnTZL60E6llWLVLHQ-1732797368-1.0.1.1-8ti6tyWsQForN_g4ZS32I1uoqwmnFbzTgVuYY8_T.xX9Q_zuwjnZSHAGO.ydHFMCXICq9BfdwpsR2n1Cb8Z8LQ;
        path=/; expires=Thu, 28-Nov-24 13:06:08 GMT; domain=.api.openai.com; HttpOnly;
        Secure; SameSite=None
      - _cfuvid=Bcq7Qg_hWvuL2K3jNHUn7XF1pXGsq0HVAwMDH3z12Uw-1732797368605-0.0.1.1-604800000;
        path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None
      X-Content-Type-Options:
      - nosniff
      Server:
      - cloudflare
      Cf-Ray:
      - 8e9a66da9f90cbcb-MAD
      Alt-Svc:
      - h3=":443"; ma=86400
    body:
      encoding: ASCII-8BIT
      string: !binary |-
        ewogICJpZCI6ICJjaGF0Y21wbC1BWVkyWkd3V2U0a3lIaGZYelRsQXhQbXVnRTlLcyIsCiAgIm9iamVjdCI6ICJjaGF0LmNvbXBsZXRpb24iLAogICJjcmVhdGVkIjogMTczMjc5NzM2NywKICAibW9kZWwiOiAiZ3B0LTRvLW1pbmktMjAyNC0wNy0xOCIsCiAgImNob2ljZXMiOiBbCiAgICB7CiAgICAgICJpbmRleCI6IDAsCiAgICAgICJtZXNzYWdlIjogewogICAgICAgICJyb2xlIjogImFzc2lzdGFudCIsCiAgICAgICAgImNvbnRlbnQiOiAie1wicXVlc3Rpb25zXCI6W3tcInF1ZXN0aW9uXCI6XCJRdWVsbGVzIHNvbnQgbGVzIHZvaXR1cmVzIGxlcyBwbHVzIHPDu3JlcyByZWNvbW1hbmTDqWVzIHBvdXIgbGVzIGZlbW1lcyBkZSBwbHVzIGRlIDQ1IGFucyA/XCJ9LHtcInF1ZXN0aW9uXCI6XCJRdWVscyBtb2TDqGxlcyBkZSB2b2l0dXJlcyBvZmZyZW50IGxlcyBtZWlsbGV1cmVzIGNhcmFjdMOpcmlzdGlxdWVzIGRlIHPDqWN1cml0w6kgcG91ciBsZXMgY29uZHVjdHJpY2VzIG1hdHVyZXMgP1wifSx7XCJxdWVzdGlvblwiOlwiUXVlbGxlcyBtYXJxdWVzIGRlIHZvaXR1cmVzIHNvbnQgcsOpcHV0w6llcyBwb3VyIGxldXIgc8OpY3VyaXTDqSBldCBsZXVyIGNvbmZvcnQgcG91ciBsZXMgZmVtbWVzIGRlIDQ1IGFucyBldCBwbHVzID9cIn0se1wicXVlc3Rpb25cIjpcIlF1ZWxzIGNyaXTDqHJlcyBkZSBzw6ljdXJpdMOpIGRldnJhaXMtamUgY29uc2lkw6lyZXIgbG9ycyBkZSBsJ2FjaGF0IGQndW5lIHZvaXR1cmUgZW4gdGFudCBxdWUgZmVtbWUgZGUgcGx1cyBkZSA0NSBhbnMgP1wifSx7XCJxdWVzdGlvblwiOlwiWSBhLXQtaWwgZGVzIMOpdmFsdWF0aW9ucyBkZSBzw6ljdXJpdMOpIHNww6ljaWZpcXVlcyBwb3VyIGxlcyB2b2l0dXJlcyBxdWkgY29udmllbm5lbnQgYXV4IGZlbW1lcyBkZSBjZXR0ZSB0cmFuY2hlIGQnw6JnZSA/XCJ9XX0iLAogICAgICAgICJyZWZ1c2FsIjogbnVsbAogICAgICB9LAogICAgICAibG9ncHJvYnMiOiBudWxsLAogICAgICAiZmluaXNoX3JlYXNvbiI6ICJzdG9wIgogICAgfQogIF0sCiAgInVzYWdlIjogewogICAgInByb21wdF90b2tlbnMiOiAxMDA3LAogICAgImNvbXBsZXRpb25fdG9rZW5zIjogMTMyLAogICAgInRvdGFsX3Rva2VucyI6IDExMzksCiAgICAicHJvbXB0X3Rva2Vuc19kZXRhaWxzIjogewogICAgICAiY2FjaGVkX3Rva2VucyI6IDAsCiAgICAgICJhdWRpb190b2tlbnMiOiAwCiAgICB9LAogICAgImNvbXBsZXRpb25fdG9rZW5zX2RldGFpbHMiOiB7CiAgICAgICJyZWFzb25pbmdfdG9rZW5zIjogMCwKICAgICAgImF1ZGlvX3Rva2VucyI6IDAsCiAgICAgICJhY2NlcHRlZF9wcmVkaWN0aW9uX3Rva2VucyI6IDAsCiAgICAgICJyZWplY3RlZF9wcmVkaWN0aW9uX3Rva2VucyI6IDAKICAgIH0KICB9LAogICJzeXN0ZW1fZmluZ2VycHJpbnQiOiAiZnBfMDcwNWJmODdjMCIKfQo=
  recorded_at: Thu, 28 Nov 2024 12:36:08 GMT
recorded_with: VCR 6.3.1
