---
http_interactions:
- request:
    method: post
    uri: https://api.openai.com/v1/chat/completions
    body:
      encoding: UTF-8
      string: '{"model":"gpt-4o","temperature":0.0,"messages":[{"role":"user","content":"Welche
        Automarken bieten die sichersten Fahrzeuge f端r Frauen 端ber 45 Jahren an?.
        Return brands and models of products and/or services and explain why you chose
        those and not others. Use the search tool to obtain information and support
        results. Include URLs of the consulted sites or specialized websites, do not
        include sources that are the official sites of the mentioned brand, product,
        or service."}],"tools":[{"type":"function","function":{"name":"search","description":"Search
        in Bing for relevant results to provide reliable information for the question","parameters":{"type":"object","properties":{"query":{"type":"string","description":"The
        search query"},"count":{"type":"integer","description":"The number of results
        to return"}},"required":["query","count"]}}}],"tool_choice":"required","response_format":null}'
    headers:
      Content-Type:
      - application/json
      Authorization:
      - Bearer <API_KEY>
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      User-Agent:
      - Ruby
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Fri, 22 Nov 2024 11:32:33 GMT
      Content-Type:
      - application/json
      Transfer-Encoding:
      - chunked
      Connection:
      - keep-alive
      Access-Control-Expose-Headers:
      - X-Request-ID
      Openai-Organization:
      - user-qnoh4d6vex03uarljj9vor3n
      Openai-Processing-Ms:
      - '526'
      Openai-Version:
      - '2020-10-01'
      X-Ratelimit-Limit-Requests:
      - '5000'
      X-Ratelimit-Limit-Tokens:
      - '800000'
      X-Ratelimit-Remaining-Requests:
      - '4999'
      X-Ratelimit-Remaining-Tokens:
      - '799881'
      X-Ratelimit-Reset-Requests:
      - 12ms
      X-Ratelimit-Reset-Tokens:
      - 8ms
      X-Request-Id:
      - req_883aeed5b86f2e3d9ce43fc7f45de7f9
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains; preload
      Cf-Cache-Status:
      - DYNAMIC
      Set-Cookie:
      - __cf_bm=DWt584A3BakFe_tzuuFKgXrN.zzMBGprqN1oI3ime8E-1732275153-1.0.1.1-MojNBf1WEJdc88iWQ2jb0LfXW3_DvcJCH4ZwpVv87ds.BDem2uF9VW9jff10QREy4oJzhALun7Lqmis.hBS34A;
        path=/; expires=Fri, 22-Nov-24 12:02:33 GMT; domain=.api.openai.com; HttpOnly;
        Secure; SameSite=None
      - _cfuvid=dPOgKsadWZ..dOINaB7N1jSzqDcIc1pyxGFtNA9lvVw-1732275153097-0.0.1.1-604800000;
        path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None
      X-Content-Type-Options:
      - nosniff
      Server:
      - cloudflare
      Cf-Ray:
      - 8e689976bf96cbca-MAD
      Alt-Svc:
      - h3=":443"; ma=86400
    body:
      encoding: ASCII-8BIT
      string: |
        {
          "id": "chatcmpl-AWMBkbuSdFM8k70Wj1Z31d2lBVvDG",
          "object": "chat.completion",
          "created": 1732275152,
          "model": "gpt-4o-2024-08-06",
          "choices": [
            {
              "index": 0,
              "message": {
                "role": "assistant",
                "content": null,
                "tool_calls": [
                  {
                    "id": "call_cLR1O1xtZeZV5ofkDcEde3Cj",
                    "type": "function",
                    "function": {
                      "name": "search",
                      "arguments": "{\"query\":\"safest car brands for women over 45\",\"count\":5}"
                    }
                  }
                ],
                "refusal": null
              },
              "logprobs": null,
              "finish_reason": "tool_calls"
            }
          ],
          "usage": {
            "prompt_tokens": 141,
            "completion_tokens": 26,
            "total_tokens": 167,
            "prompt_tokens_details": {
              "cached_tokens": 0,
              "audio_tokens": 0
            },
            "completion_tokens_details": {
              "reasoning_tokens": 0,
              "audio_tokens": 0,
              "accepted_prediction_tokens": 0,
              "rejected_prediction_tokens": 0
            }
          },
          "system_fingerprint": "fp_7f6be3efb0"
        }
  recorded_at: Fri, 22 Nov 2024 11:32:33 GMT
- request:
    method: post
    uri: https://api.openai.com/v1/chat/completions
    body:
      encoding: UTF-8
      string: '{"model":"gpt-4o","temperature":0.0,"messages":[{"role":"user","content":"Welche
        Automarken bieten die sichersten Fahrzeuge f端r Frauen 端ber 45 Jahren an?.
        Return brands and models of products and/or services and explain why you chose
        those and not others. Use the search tool to obtain information and support
        results. Include URLs of the consulted sites or specialized websites, do not
        include sources that are the official sites of the mentioned brand, product,
        or service."},{"role":"assistant","content":null,"tool_calls":[{"id":"call_cLR1O1xtZeZV5ofkDcEde3Cj","type":"function","function":{"name":"search","arguments":"{\"query\":\"safest
        car brands for women over 45\",\"count\":5}"}}],"refusal":null},{"tool_call_id":"call_cLR1O1xtZeZV5ofkDcEde3Cj","role":"tool","name":"search","content":"Searching
        for safest car brands for women over 45 with count 5"}],"tools":[{"type":"function","function":{"name":"search","description":"Search
        in Bing for relevant results to provide reliable information for the question","parameters":{"type":"object","properties":{"query":{"type":"string","description":"The
        search query"},"count":{"type":"integer","description":"The number of results
        to return"}},"required":["query","count"]}}}],"tool_choice":"required","response_format":null}'
    headers:
      Content-Type:
      - application/json
      Authorization:
      - Bearer <API_KEY>
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      User-Agent:
      - Ruby
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Fri, 22 Nov 2024 11:32:36 GMT
      Content-Type:
      - application/json
      Transfer-Encoding:
      - chunked
      Connection:
      - keep-alive
      Access-Control-Expose-Headers:
      - X-Request-ID
      Openai-Organization:
      - user-qnoh4d6vex03uarljj9vor3n
      Openai-Processing-Ms:
      - '709'
      Openai-Version:
      - '2020-10-01'
      X-Ratelimit-Limit-Requests:
      - '5000'
      X-Ratelimit-Limit-Tokens:
      - '800000'
      X-Ratelimit-Remaining-Requests:
      - '4999'
      X-Ratelimit-Remaining-Tokens:
      - '799864'
      X-Ratelimit-Reset-Requests:
      - 12ms
      X-Ratelimit-Reset-Tokens:
      - 10ms
      X-Request-Id:
      - req_25efdb6c1058d18a568fa670b918b332
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains; preload
      Cf-Cache-Status:
      - DYNAMIC
      Set-Cookie:
      - __cf_bm=E8PNQsOpGG1sEFLxNBQLvuh6BeZihzBwP2Q2z8MvyZQ-1732275156-1.0.1.1-adlo346wBR08PuRjq6UfjhZvmG3SewVc.7yTwbJpCDSgp9t.7eLCyMXrYHECmiuexSCeil4yUcV_laqglWsE8w;
        path=/; expires=Fri, 22-Nov-24 12:02:36 GMT; domain=.api.openai.com; HttpOnly;
        Secure; SameSite=None
      - _cfuvid=FD44Hb.kbVqy87Ir3JRba_I4zk2WFfNBv.tInfzcpb0-1732275156478-0.0.1.1-604800000;
        path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None
      X-Content-Type-Options:
      - nosniff
      Server:
      - cloudflare
      Cf-Ray:
      - 8e68998a6de72fa6-MAD
      Alt-Svc:
      - h3=":443"; ma=86400
    body:
      encoding: ASCII-8BIT
      string: |
        {
          "id": "chatcmpl-AWMBnjv4AtGjUHgTu1iTL2uTXhVUz",
          "object": "chat.completion",
          "created": 1732275155,
          "model": "gpt-4o-2024-08-06",
          "choices": [
            {
              "index": 0,
              "message": {
                "role": "assistant",
                "content": null,
                "tool_calls": [
                  {
                    "id": "call_RilzHVe0DX20LMaev70zBnNN",
                    "type": "function",
                    "function": {
                      "name": "search",
                      "arguments": "{\"query\":\"safest cars for women 2023\",\"count\":5}"
                    }
                  }
                ],
                "refusal": null
              },
              "logprobs": null,
              "finish_reason": "tool_calls"
            }
          ],
          "usage": {
            "prompt_tokens": 188,
            "completion_tokens": 25,
            "total_tokens": 213,
            "prompt_tokens_details": {
              "cached_tokens": 0,
              "audio_tokens": 0
            },
            "completion_tokens_details": {
              "reasoning_tokens": 0,
              "audio_tokens": 0,
              "accepted_prediction_tokens": 0,
              "rejected_prediction_tokens": 0
            }
          },
          "system_fingerprint": "fp_7f6be3efb0"
        }
  recorded_at: Fri, 22 Nov 2024 11:32:36 GMT
recorded_with: VCR 6.3.1
